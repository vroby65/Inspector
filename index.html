<html>
	<head>
		<link rel="icon" href="images/inspector.png">
		<title>[Inspector] beta version v0.58</title>
		<style>
			body{
				font-family: Arial;
				font-size: 16px;
				margin: 0px;
				width:calc(100% - 2px);
				height: 100%;
			}
			hr{
				boder:1px solid black;
			}
			table{
				font-family: Arial;
				font-size: 14px;
				font-weight:800;
				width:100%;
				border-collapse: collapse;
			}
			td input{
				width:100%;
			}
			td button{
				width:100%;
				margin-top:2px;
			}
			
			input[type='text']{
				width:150px;
			}
						
			#topbar{
				width:100%;
				heigth: 150px;
				background: #F7AE71;	
				padding: 1px;
			}
			
			#toolbar{
				text-align: center;
				float:left;
				min-width:60px;
				height:calc(100% - 70px);
				background: #81BEF7;	
				margin-top: 2px;		
				overflow: auto;	
			}
			
			#inspector{
				text-align: center;
				float:right;
				width:280px;
				height:calc(100% - 70px);
				min-height;0px;
				background: #81BEF7;	
				margin-top: 2px;	
				overflow: auto;	
			}
			
			#screen{
				position:absolute;
				top: 64px;
				min-width: 800px;
				width:calc(100% - 358px);
				height:calc(100% - 70px);
				margin-left:68px;
				margin-right: 265px;
				background-image: url(./images/back.png);
				background-repeat:repeat;
				overflow:auto;
			}
			
			#editor{
				position:absolute;
				display: none;
				top: 64px;
				width:calc(100% - 330px);
				height:calc(100% - 90px);
				margin-left:50px;
				margin-right: 250px;
				background:#d0d0d0;
				z-index:1000;
			}
			
			.img{
				width: 24px;
				padding: 4px;
				margin: 4px;
				border: 1px solid black;
				draggable: true;
			}

			.menu{
				position: absolute; 
				float:left;
				z-index: 1000000;
				top:22px;
				left:10px; 
				width:120px;
				padding:5px; 
				border: 1px solid black; 
				background-color: #E7AE71; 
				color: #000000; 
				overflow: auto; 
				display: none;
				cursor: grab;
			}
			.menu a:hover {
				background: black;
				color: #F7BE81;
			}
			.menu div:hover {
				background: black;
				color: #F7BE81;
				width:100%;
			}
		</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js" integrity="sha512-xwrAU5yhWwdTvvmMNheFn9IyuDbl/Kyghz2J3wQRDR8tyNmT8ZIYOd0V3iPYY/g4XdNPy0n/g0NvqGu9f0fPJQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js" integrity="sha512-IS1FyxQkiJHT1SAvLXBaJu1UTFSIw0GT/DuzxHl69djqyLoEwGmR2davcZUnB8M7ppi9nfTGZR/vdfqmWt+i6A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css" integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	</head>
	<body onload="loadstorage();setinspector();">

		<div id='topbar'>
			<div id='menu'>
				<a onclick="switchDisplay('menu-file');" style='margin-left:10px;'>File</a>			
				<div id='menu-file' class='menu' >
					<div onclick="_new();">New</div>
					<hr>
					<input type="file" id="file-input" style='display:none;' />
					<div onclick='_load();'>Load</div>
					<div onclick='_save();'>Save</div>
					<hr>
					<div onclick='_export();'>Export</div>
				</div>
				<a onclick="switchDisplay('menu-help');" style='margin-left:10px;'>help</a>			
				<div id='menu-help' class='menu'>
					<div onclick="alert('Inspector beta version v 0.50');">about</div>					
				</div>
				<br>
			</div>
			<div id='bar' style='border:1px solid black;background:#F7AE71;'>
				<img style='width:24px;margin:4px;' title='[new]' 	onclick="_new();" src='images/new.png'>
				<img style='width:24px;margin:4px;' src='images/vertical_bar.png'>
				<img style='width:24px;margin:4px;' title='[load]' 	onclick="_load();" src='images/load.png'>
				<img style='width:24px;margin:4px;' title='[save]' 	onclick="_save();" src='images/save.png'>
				<img style='width:24px;margin:4px;' title='[export]'onclick="_export();" src='images/file_export.png'>		<img style='width:24px;margin:4px;' src='images/vertical_bar.png'>
				<img style='width:24px;margin:4px;' title='[play]' 	onclick="_play();" src='images/play.png'>
				<img style='width:24px;margin:4px;' title='[stop]' 	onclick="_stop();" src='images/stop.png'>

			
			</div>			
		</div>
		<div id='inspector'>
			<b>Project</b>
			<table border='1' width='100%'>
				<tr><td>name</td><td><input id='project' value='new project'></td></tr>
			</table>
			</fieldset>
			<b>object inspector</b>
			<table border='1' width='100%'>
				<tr><td>object</td><td><select id='_object' onchange='Id=getId(this.value).id;setinspector();' style='width:160px;'></select></td></tr>
			</table>
			<div style='height:calc(100% - 90px); overflow-y:scroll;min-height:0px;'>
			<table border='1' width='100%'>
				<tr><td>id</td><td><input type='text' id='id' onclick="oldid=this.value" onchange="getId(oldid).id=this.value;savestorage();"></td></tr>
				<tr><td>name</td><td><input type='text' id='name' onchange="getId(getId('id').value).name=this.value;savestorage();"></td></tr>
				<tr><td>display</td><td><input type='text' id='display' list='listdisplay' onchange="getId(getId('id').value).style.display=this.value;savestorage();"></td></tr>
				<datalist id='listdisplay'>
					<option>none</option>
					<option>block</option>
				</datalist>
				<tr><td>position</td><td><input type='text' id='position' onchange="getId(getId('id').value).style.position=this.value;savestorage();"></td></tr>
				<tr><td>float</td><td><input type='text' id='float' onchange="getId(getId('id').value).style.float=this.value;savestorage();"></td></tr>				
				<tr><td>left</td><td><input type='text' id='left' onchange="getId(getId('id').value).style.left=this.value;savestorage();"></td></tr>
				<tr><td>right</td><td><input type='text' id='right' onchange="getId(getId('id').value).style.right=this.value;savestorage();"></td></tr>
				<tr><td>top</td><td><input id='top' type='text' onchange="getId(getId('id').value).style.top=this.value;savestorage();"></td></tr>
				<tr><td>bottom</td><td><input id='bottom' type='text' onchange="getId(getId('id').value).style.bottom=this.value;savestorage();"></td></tr>
				<tr><td>width</td><td><input id='width' type='text' onchange="getId(getId('id').value).style.width=this.value;savestorage();"></td></tr>
				<tr><td>height</td><td><input id='height' type='text' onchange="getId(getId('id').value).style.height=this.value;savestorage();"></td></tr>
				<tr><td>value</td>
					<td> 
						<input id='value' type='text' style='display:none;' onchange="getId(getId('id').value).value=this.value;savestorage();" >
						<input id='innerText' type='text' style='display:none;' onchange="getId(getId('id').value).innerText=this.value;savestorage();" >
						<textarea id='innerHTML' type='text' style='display:none;width:158px;white-space: pre; overflow-x:scroll; overflow-wrap:normal;resize:none;' onchange="getId(getId('id').value).innerHTML=this.value;savestorage();" ></textarea>
						<input id='checked' type='text' style='display:none;' onchange="getId(getId('id').value).checked=this.value;savestorage();" >
						<input id='src' type='text' style='display:none;' onchange="getId(getId('id').value).src=this.value;savestorage();" >
					</td>
				</tr>
				<tr><td>border</td><td><input id='border' type='text' onchange="getId(getId('id').value).style.border=this.value;savestorage();"></td></tr>
				<tr><td>color</td><td><input id='color' type='text' onchange="getId(getId('id').value).style.color=this.value;savestorage();"></td></tr>
				<tr><td>background</td><td><input id='background' type='text' onchange="getId(getId('id').value).style.background=this.value;savestorage();"></td></tr>
				<tr><td>fontFamily</td><td><input id='fontFamily' type='text' list='listfont' onchange="getId(getId('id').value).style.fontFamily=this.value;savestorage();"></td></tr>
				<datalist id='listfont'>
					<option>Georgia, serif</option>
					<option>"Palatino Linotype", "Book Antiqua", Palatino, serif</option>
					<option>"Times New Roman", Times, serif</option>
					<option>Arial, Helvetica, sans-serif</option>
					<option>"Arial Black", Gadget, sans-serif</option>
					<option>"Comic Sans MS", cursive, sans-serif</option>
					<option>Impact, Charcoal, sans-serif</option>
					<option>"Lucida Sans Unicode", "Lucida Grande", sans-serif</option>
					<option>Tahoma, Geneva, sans-serif</option>
					<option>"Trebuchet MS", Helvetica, sans-serif</option>
					<option>Verdana, Geneva, sans-serif</option>
					<option>"Courier New", Courier, monospace</option>
					<option>"Lucida Console", Monaco, monospace</option>				
				</datalist>
				<tr><td>fontStyle</td><td><input id='fontStyle' type='text' onchange="getId(getId('id').value).style.fontStyle=this.value;savestorage();"></td></tr>
				<tr><td>fontWeight</td><td><input id='fontWeight' type='text' onchange="getId(getId('id').value).style.fontWeight=this.value;savestorage();"></td></tr>
				<tr><td>fontSize</td><td><input id='fontSize' type='text' onchange="getId(getId('id').value).style.fontSize=this.value;savestorage();"></td></tr>

				<tr><td>padding <a onclick="switchDisplay('paddingopt')">+</a></td><td><input id='padding' type='text' onchange="getId(getId('id').value).style.padding=this.value;savestorage();"></td></tr>
				<tr><td colspan='2'>
					<table id='paddingopt' style='display:none;'>
						<tr><td>paddingLeft</td><td><input id='paddingLeft' type='text' onchange="getId(getId('id').value).style.paddingLeft=this.value;savestorage();"></td></tr>
						<tr><td>paddingRight</td><td><input id='paddingRight' type='text' onchange="getId(getId('id').value).style.paddingRight=this.value;savestorage();"></td></tr>
						<tr><td>paddingTop</td><td><input id='paddingTop' type='text' onchange="getId(getId('id').value).style.paddingTop=this.value;savestorage();"></td></tr>
						<tr><td>paddingBottom</td><td><input id='paddingBottom' type='text' onchange="getId(getId('id').value).style.paddingBottom=this.value;savestorage();"></td></tr>
					</table>
				</td></tr>

				<tr><td>margin <a onclick="switchDisplay('marginopt')">+</a></td><td><input id='margin' type='text' onchange="getId(getId('id').value).style.margin=this.value;savestorage();"></td></tr>			
				<tr><td colspan='2'>
					<table id='marginopt' style='display:none;'>
						<tr><td>marginLeft</td><td><input id='marginLeft' type='text' onchange="getId(getId('id').value).style.marginLeft=this.value;savestorage();"></td></tr>
						<tr><td>marginRight</td><td><input id='marginRight' type='text' onchange="getId(getId('id').value).style.marginRight=this.value;savestorage();"></td></tr>
						<tr><td>marginTop</td><td><input id='marginTop' type='text' onchange="getId(getId('id').value).style.marginTop=this.value;savestorage();"></td></tr>
						<tr><td>marginBottom</td><td><input id='marginBottom' type='text' onchange="getId(getId('id').value).style.marginBottom=this.value;savestorage();"></td></tr>
					</table>
				</td></tr>
				<tr><td>cursor</td><td><input id='cursor' type='text' list='listcursor' onchange="getId(getId('id').value).style.cursor=this.value;savestorage();"></td></tr>							
				<datalist id='listcursor'>
					<option>alias</option>
					<option>all-scroll</option>
					<option>auto</option>
					<option>cell</option>
					<option>cursor</option>
					<option>col-resize</option>
					<option>copy</option>
					<option>crosshair</option>
					<option>default</option>
					<option>e-resize</option>
					<option>ew-resize</option>
					<option>grab</option>
					<option>grabbing</option>
					<option>help</option>
					<option>move</option>
					<option>n-resize</option>
					<option>ne-resize</option>
					<option>nesw-resize</option>
					<option>ns-resize</option>
					<option>nw-resize</option>
					<option>nwse-resize</option>
					<option>no-drop</option>
					<option>none</option>
					<option>not-allowed</option>
					<option>pointer</option>
					<option>progress</option>
					<option>row-resize</option>
					<option>s-resize</option>
					<option>se-resize</option>
					<option>sw-resize</option>
					<option>text</option>
					<option>w-resize</option>
					<option>wait</option>
					<option>zoom-in</option>
					<option>zoom-out</option>
				</datalist>					
				<tr><td>resize</td><td><input id='resize' type='text' list='listresize' onchange="getId(getId('id').value).style.resize=this.value;savestorage();"></td></tr>			
				<datalist id='listresize'>
					<option>none</option>
					<option>vertical</option>
					<option>horizontal</option>
					<option>both</option>
				</datalist>
				<tr><td>title</td><td><input id='title' type='text' onchange="getId(getId('id').value).title=this.value;savestorage();"></td></tr>			
				<tr><td>tab-index</td><td><input id='tabIndex' type='text' onchange="getId(getId('id').value).tabIndex=this.value;savestorage();"></td></tr>			
				<tr><td>z-index</td><td><input id='zIndex' type='text' onchange="getId(getId('id').value).style.zIndex=this.value;savestorage();"></td></tr>			

				<tr><td>Events</td>
					<td>
						<button onclick="editEvt='click';edit();">onclick</button><br>
						<button onclick="editEvt='dblclick';edit();">ondblclick</button><br>
						<button onclick="editEvt='mousedown';edit();">onmousedown</button><br>
						<button onclick="editEvt='mouseup';edit();">onmouseup</button><br>
						<button onclick="editEvt='mousemove';edit();">onmousemove</button><br>
						<button onclick="editEvt='mouseover';edit();">onmouseover</button><br>
						<button onclick="editEvt='mouseout';edit();">onmouseout</button><br>
						<button onclick="editEvt='keypress';edit();">onkeypress</button><br>
						<button onclick="editEvt='keydown';edit();">onkeydown</button><br>
						<button onclick="editEvt='keyup';edit();">onkeyup</button><br>
						<button onclick="editEvt='select';edit();">onselect</button><br>
						<button onclick="editEvt='change';edit();">onchange</button><br>
					</td>
				</tr>
				<tr><td>script</td><td><button style='width:100%;margin-top:2px;' onclick="editEvt='script';Id='screen';edit();">edit</button></td></tr>
			</table>
			</div>
		</div>

		<div id='toolbar'>
			<b>Tool</b><br>	
			<img id='form'  	onclick="createForm();" 	title='[Form]' 		class='img' src='images/window.png'><br>
			<br>
			<img id='tbar'	 	onclick="createTBar();" 	title='[ToolBar]'	class='img' src='images/tbar.png'><br>
			<img id='tbar'	 	onclick="createMBar();" 	title='[MenuBar]'	class='img' src='images/mbar.png'><br>
			<img id='label' 	onclick="createLabel();" 	title='[Label]' 	class='img' src='images/label.png'><br>
			<img id='button'	onclick="createButton();" 	title='[Button]' 	class='img' src='images/button.png'><br>
			<img id='input' 	onclick="createInput();" 	title='[Input]'		class='img' src='images/input_text.png'><br>
			<img id='textarea'	onclick="createTextArea();" title='[TextArea]' 	class='img' src='images/textarea.png'><br>	
			<img id='image'		onclick="createImage();" 	title='[Image]' 	class='img' src='images/add-image.png'><br>	
			<img id='canvas'	onclick="createCanvas();" 	title='[Canvas]' 	class='img' src='images/canvas.png'	><br>	
			<img id='select'	onclick="createSelect();" 	title='[Select]' 	class='img' src='images/combobox.png'><br>	
			<img id='listbox'	onclick="createListBox();" 	title='[ListBox]' 	class='img' src='images/listbox.png'><br>		
			<img id='checkbox'	onclick="createCheckBox();" title='[CheckBox]' 	class='img' src='images/checkbox.png'><br>	
			<img id='radio'		onclick="createRadio();" 	title='[Radio]' 	class='img' src='images/radiobutton.png'><br>	
		</div>
	
		<div id='screen'></div>	
		
		<div id='editor'>
			<div style='z-index:1000;border:1px solid black;'>
				<textarea id='code' style='width: 100%;height:calc(100% - 30px);'></textarea>
				<div style='float:right;'><button onclick='editAdd();'>add</button> <button onclick='editCancel();'>cancel</button> </div>
			</div>
		</div>
	
	</body>
	<script>
		function getId(element){return document.getElementById(element);}

		function switchDisplay(_obj){
			if( getId(_obj).style.display=='none'){
				hidden_all_menus();
				getId(_obj).style.display='block';
				getId(_obj).style.left=event.clientX;
				getId(_obj).style.top=event.clientY + 10;
			} 
			else{
				getId(_obj).style.display='none';
			}
		}
		function hidden_all_menus(){
			getId('menu-file').style.display='none';
			getId('menu-help').style.display='none';		
		}

		function download(data, filename, type) {
			var file = new Blob([data], {type: type});
			if (window.navigator.msSaveOrOpenBlob) // IE10+
				window.navigator.msSaveOrOpenBlob(file, filename);
			else { // Others
				var a = document.createElement("a"),
				url = URL.createObjectURL(file);
				a.href = url;
				a.download = filename;
				document.body.appendChild(a);
				a.click();
				setTimeout(function() {
					document.body.removeChild(a);
					window.URL.revokeObjectURL(url);  
				}, 0); 
			}
		}
	
		function readSingleFile(e) {
			var file = e.target.files[0];
			getId('project').value=file.name.substring(0,file.name.length-4);
			if (!file) {
				return;
			}
			var reader = new FileReader();
			reader.onload = function(e) {
				var contents = e.target.result;
				displayContents(contents);
			};
			reader.readAsText(file);
		}

		function displayContents(contents) {
			var element = document.getElementById('screen');
			element.innerHTML += contents;
		}

		document.getElementById('file-input')
			.addEventListener('change', readSingleFile, false);
	
//- menu --------------------------------------------------	
		var _win;
		var	_script="<script>function getId(element){\n return document.getElementById(element);} var FdeltaX;var FdeltaY; function Fdragstart(element,e){ FdeltaX=e.clientX- parseInt(element.style.left); FdeltaY=e.clientY- parseInt(element.style.top);} function Fdragover(element,e){ e.preventDefault(); var x = e.clientX; var y = e.clientY; x=x-FdeltaX; y=y-FdeltaY; element.style.left=x+'px'; element.style.top=y+'px';}<"+"/script>";


		function  _new(){
			localStorage.setItem('inspector', '');
			getId('screen').innerHTML='\n\t';
			btn=0;
			lbl=0;
			inp=0;
			textarea=0;
			select=0;
			chk=0;
			rdo=0;
			getId('project').value='new project';
			resetinspector();
			hidden_all_menus();
			updateObject();
			getId('_object').value='';
		}

		function _load(){
			_new();
			getId('screen').innerHTML=localStorage.getItem('inspector');
			getId('file-input').value='';
			getId('file-input').click();
			hidden_all_menus();
			updateObject();
			

		}

		function _save(){
			var data=getId('screen').innerHTML;
			localStorage.setItem('inspector', data);
			download(data, getId('project').value+'.prj', "text/html");
			hidden_all_menus();
		}

		function _export(){
			var data=getId('screen').innerHTML;
			localStorage.setItem('inspector', data);
			data="<html>\n<head>\n<title>"+getId('project').value+"</title>\n"+_script+"</head>\n<body>"+data+"</body>\n</html>\n";
			download(data, getId('project').value+'.html', "text/html");
			hidden_all_menus();
		}
		
		function _play(){
			var data=getId('screen').innerHTML;
			localStorage.setItem('inspector', data);
			data="<html>\n<head>\n<title>"+getId('project').value+"</title>\n"+_script+"</head>\n<body>"+data+"</body>\n</html>\n";
			hidden_all_menus();
			_win=window.open("");
			_win.document.write(data);	
		}
		
		function _stop(){
			_win.close();
		}

		function savestorage(){
			var data=getId('screen').innerHTML;
			localStorage.setItem('inspector', data);	
			localStorage.setItem('inspector-project', getId('project').value);	
		}
		function loadstorage(){
			getId('screen').innerHTML=localStorage.getItem('inspector');
			getId('project').value=localStorage.getItem('inspector-project');
			updateObject();
		}

//-editor ---------------------------------------------------------------
		var editEVT;

		getId('editor').style.display='block';
		var mycode=CodeMirror.fromTextArea(code, {
			lineNumbers: true,
		});
		mycode.setSize('100%', 'calc(100% - 25px');
		mycode.setOption("language", 'javascript');
		//mycode.setOption("theme", 'night');
		getId('editor').style.display='none';


		function edit(){
			if(!getId(Id))return;

			getId('editor').style.display='block';

			if (editEvt=='click'){
				var v=getId(Id).onclick;
				if(v!=null){
					var vdef=v.toString().substring(26,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='dblclick'){
				var v=getId(Id).ondblclick;
				if(v!=null){
					var vdef=v.toString().substring(29,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='mousedown'){
				var v=getId(Id).onmousedown;
				if(v!=null){
					var vdef=v.toString().substring(30,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='mouseup'){
				var v=getId(Id).onmouseup;
				if(v!=null){
					var vdef=v.toString().substring(28,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='mousemove'){
				var v=getId(Id).onmousemove;
				if(v!=null){
					var vdef=v.toString().substring(30,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='mouseover'){
				var v=getId(Id).onmouseover;
				if(v!=null){
					var vdef=v.toString().substring(30,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='mouseout'){
				var v=getId(Id).onmouseout;
				if(v!=null){
					var vdef=v.toString().substring(29,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='keypress'){
				var v=getId(Id).onkeypress;
				if(v!=null){
					var vdef=v.toString().substring(29,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='keydown'){
				var v=getId(Id).onkeydown;
				if(v!=null){
					var vdef=v.toString().substring(28,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='keyup'){
				var v=getId(Id).onkeyup;
				if(v!=null){
					var vdef=v.toString().substring(26,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='select'){
				var v=getId(Id).onselect;
				if(v!=null){
					var vdef=v.toString().substring(28,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			if (editEvt=='change'){
				var v=getId(Id).onchange;
				if(v!=null){
					var vdef=v.toString().substring(27,v.toString().length - 2);	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}
			
			
			//editor globale
			if (editEvt=='script'){
				if(!getId('_script')){
					var SCRIPT = document.createElement("script");
					SCRIPT.type  = "text/javascript";
					SCRIPT.id='_script';
					getId('screen').appendChild(SCRIPT);
				}
				var v=getId('_script').innerHTML;
				if(v!=null){
					var vdef=v.toString();	
					getId('code').value=vdef;
					mycode.setValue(vdef);
				}
			}	
		}

		function editAdd(){
			if(!getId(Id))return;
			
			if (editEvt=='click'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onclick',getId('code').value);
			}
			if (editEvt=='dblclick'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('ondblclick',getId('code').value);
			}
			if (editEvt=='mousedown'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onmousedown',getId('code').value);
			}
			if (editEvt=='mouseup'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onmouseup',getId('code').value);
			}
			if (editEvt=='mousemove'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onmousemove',getId('code').value);
			}
			if (editEvt=='mouseover'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onmouseover',getId('code').value);
			}
			if (editEvt=='mouseout'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onmouseout',getId('code').value);
			}
			if (editEvt=='keypress'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onkeypress',getId('code').value);
			}
			if (editEvt=='keydown'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onkeydown',getId('code').value);
			}
			if (editEvt=='keyup'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onkeyup',getId('code').value);
			}
			if (editEvt=='select'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onselect',getId('code').value);
			}
			if (editEvt=='change'){
				getId('code').value=mycode.getValue(); 
				getId(Id).setAttribute('onchange',getId('code').value);
			}
			
			
			//editor globale
			if (editEvt=='script'){
				getId('code').value=mycode.getValue(); 
				getId('_script').innerHTML=getId('code').value;
			}
			
			
			getId('code').value='';
			mycode.setValue('');
			getId('editor').style.display='none';		
		}

		function editCancel(){
			getId('code').value='';
			mycode.setValue('');
			getId('editor').style.display='none';		
		}

//- drag and drop -------------------------------------------------
		var deltaX;
		var deltaY;
		
		function dragstart(element,e){
			if (Id.substring(0,3)!='frm'){
				deltaX=e.pageX- parseInt(element.style.left) ;
				deltaY=e.pageY- parseInt(element.style.top) ;
			}
		}

		function dragover(element,e){	
			e.preventDefault();
			if (Id.substring(0,3)!='frm'){
				var x = e.pageX - deltaX;
				var y = e.pageY - deltaY;					
				element.style.left=x+'px';
				element.style.top=y+'px';
			}
		}

		//i form hanno un dag and drop separato
		var FdeltaX;
		var FdeltaY;
		
		function Fdragstart(element,e){
			if (Id.substring(0,3)=='frm'){
				element.style.trasform='translate(0px, 0px)';
				FdeltaX=e.pageX - parseInt(element.style.left);
				FdeltaY=e.pageY - parseInt(element.style.top);
			}
		}

		function Fdragover(element,e){	
			if (Id.substring(0,3)=='frm'){
				e.preventDefault();
				var x = e.pageX - FdeltaX;
				var y = e.pageY - FdeltaY;
				element.style.left=x+'px';
				element.style.top=y+'px';
			}
		}


//- toolbar add icon -------------------------------------------------------------
		function TBaddicon(obj){
			var l=getId('screen').querySelectorAll('img');
			imgtb=l.length + 1;
			obj.innerHTML+="<img id='imgTB"+imgtb+"' src='./images/add-image.png' width='32px'>";
		}

//- menubar add label -------------------------------------------------------------
		function MBaddlabel(obj){
			var l=getId('screen').querySelectorAll('label');
			lblmb=l.length + 1;
			if(obj.parentElement.id=='screen') 
				obj.innerHTML+="<label id='lblMB"+lblmb+"' style='margin-left:20px;' onclick=\"if(getId('pbarMB"+lblmb+"').style.display=='block')getId('pbarMB"+lblmb+"').style.display='none';else getId('pbarMB"+lblmb+"').style.display='block'; getId('pbarMB"+lblmb+"').style.top='this.parentElement.style.top+25'; getId('pbarMB"+lblmb+"').style.left=event.layerX-15 ; \">item</label>";
			else
				obj.innerHTML+="<label id='lblMB"+lblmb+"' style='margin-left:20px;' onclick=\"if(getId('pbarMB"+lblmb+"').style.display=='block')getId('pbarMB"+lblmb+"').style.display='none';else getId('pbarMB"+lblmb+"').style.display='block'; getId('pbarMB"+lblmb+"').style.top='this.parentElement.style.top+25'; getId('pbarMB"+lblmb+"').style.left=event.layerX-15 ; \">item</label>";
		
			obj.parentElement.innerHTML+="<div id='pbarMB"+lblmb+"' style='position:absolute;display:none;min-width:150px;min-height:40px;border:1px solid black;background:#619ed7;z-index:1000;' ondblclick=\"MBaddPopUpLabel(this);\" ></div>";
		}
		
		function MBaddPopUpLabel(obj){
			var l=getId('screen').querySelectorAll('label');
			lblpb=l.length + 1;
			obj.innerHTML+="<div id='ebar"+lblpb+"' style='width:100%;' onmouseover=\"this.style.color='white';this.style.background='black';\"  onmouseout=\"this.style.color='black';this.style.background=this.parentElement.style.background;\"><label id='lblpB"+lblpb+"' >item</label></div>";
		}
		

//- _object -------------------------------------------------------------

		function updateObject(){
			var list=getId('screen').querySelectorAll('*');
			getId('_object').innerHTML='';
			list.forEach(addObject);
			getId('_object').value=Id;			
		}
					
		function addObject(item,index){
			var el=item.id;
			if (el!='_script' && el!='')getId('_object').innerHTML+='<option><b>'+el+'</b></option>';
		}

//-inspector ---------------------------------------------------------------

		var Id='';
			
		function setinspector(){
			updateObject();
			
			if(Id=='')return;
			getId('id').value=Id;
			var v=getId(Id).name;if (v)getId('name').value=v;else getId('name').value=''; 
			
			var v=getId(Id).style.display;if (v)getId('display').value=v;else getId('display').value=''; 
			var v=getId(Id).style.position;if (v)getId('position').value=v;else getId('position').value=''; 
			var v=getId(Id).style.float;if (v)getId('float').value=v;else getId('float').value=''; 

			var v=getId(Id).style.left;if (v)getId('left').value=v;else getId('left').value=''; 
			var v=getId(Id).style.right;if (v)getId('right').value=v;else getId('right').value=''; 
			var v=getId(Id).style.top;if (v)getId('top').value=v;else getId('top').value=''; 
			var v=getId(Id).style.bottom;if (v)getId('bottom').value=v;else getId('bottom').value=''; 
			var v=getId(Id).style.width;if (v)getId('width').value=v;else getId('width').value=''; 
			var v=getId(Id).style.height;if (v)getId('height').value=v;else getId('height').value=''; 

			getId('innerHTML').style.display='none';	
			getId('value').style.display='none';
			getId('innerText').style.display='none';
			getId('checked').style.display='none';
			getId('src').style.display='none';


			if (getId(Id).id.substring(0,3)=='lbl'){
				var v=getId(Id).innerText;
				getId('innerText').value=v;getId('innerText').style.display='block';
			}

			if (getId(Id).type =='button'){
				var v=getId(Id).value;
				getId('value').value=v;getId('value').style.display='block';
			}

			if (getId(Id).type =='text'){
				var v=getId(Id).value;
					getId('value').value=v;getId('value').style.display='block';
			}
			
			if (getId(Id).type =='textarea'){
				var v=getId(Id).value;
				getId('value').value=v;getId('value').style.display='block';
			}
				
			if (getId(Id).type =='select-one'){
				getId('value').style.display='none';
				getId('innerText').style.display='none';
				var v=getId(Id).innerHTML;
				getId('innerHTML').value=v;getId('innerHTML').style.display='block';
			}
			
			if (getId(Id).type =='checkbox' ){
				var v=getId(Id).checked;
				getId('checked').value=v;getId('checked').style.display='block';
			}

			if (getId(Id).type =='radio'){
				var v=getId(Id).checked;
				getId('checked').value=v;getId('checked').style.display='block';
			}

			if (getId(Id).id.substring(0,3)=='img' ){
				var v=getId(Id).src;
				getId('src').value=v;getId('src').style.display='block';
			}
			
			var v=getId(Id).style.border;if (v)getId('border').value=v;else getId('border').value=''; 
			var v=getId(Id).style.color;if (v)getId('color').value=v;else getId('color').value=''; 
			var v=getId(Id).style.background;if (v)getId('background').value=v;else getId('background').value=''; 
			var v=getId(Id).style.fontFamily;if (v)getId('fontFamily').value=v;else getId('fontFamily').value=''; 
			var v=getId(Id).style.fontStyle;if (v)getId('fontStyle').value=v;else getId('fontStyle').value=''; 
			var v=getId(Id).style.fontWeight;if (v)getId('fontWeight').value=v;else getId('fontWeight').value=''; 		
			var v=getId(Id).style.fontSize;if (v)getId('fontSize').value=v;else getId('fontSize').value=''; 

			var v=getId(Id).style.padding;if (v)getId('padding').value=v;else getId('padding').value=''; 
			var v=getId(Id).style.paddingLeft;if (v)getId('paddingLeft').value=v;else getId('paddingLeft').value=''; 
			var v=getId(Id).style.paddingRight;if (v)getId('paddingRight').value=v;else getId('paddingRight').value=''; 
			var v=getId(Id).style.paddingTop;if (v)getId('paddingTop').value=v;else getId('paddingTop').value=''; 
			var v=getId(Id).style.paddingBottom;if (v)getId('paddingBottom').value=v;else getId('paddingBottom').value=''; 
			
			var v=getId(Id).style.margin;if (v)getId('margin').value=v;else getId('margin').value=''; 
			var v=getId(Id).style.marginLeft;if (v)getId('marginLeft').value=v;else getId('marginLeft').value=''; 
			var v=getId(Id).style.marginRight;if (v)getId('marginRight').value=v;else getId('marginRight').value=''; 
			var v=getId(Id).style.marginTop;if (v)getId('marginTop').value=v;else getId('marginTop').value=''; 
			var v=getId(Id).style.marginBottom;if (v)getId('marginBottom').value=v;else getId('marginBottom').value=''; 
		
			var v=getId(Id).style.cursor;if (v)getId('cursor').value=v;else getId('cursor').value=''; 
			var v=getId(Id).style.resize;if (v)getId('resize').value=v;else getId('resize').value=''; 
			var v=getId(Id).title;if (v)getId('title').value=v;else getId('title').value=''; 
			var v=getId(Id).tabIndex;if (v)getId('tabIndex').value=v;else getId('tabIndex').value=''; 
			var v=getId(Id).style.zIndex;if (v)getId('zIndex').value=v;else getId('zIndex').value=''; 

			hidden_all_menus();
			savestorage();
		}

		function resetinspector(){
			getId('id').value='';
			getId('name').value='';

			getId('display').value='';
			getId('position').value='';
			getId('float').value='';

			getId('left').value=''; 
			getId('right').value=''; 
			getId('top').value=''; 
			getId('bottom').value=''; 
			getId('width').value=''; 
			getId('height').value=''; 

			getId('value').value=''; 
			getId('innerText').value=''; 
			getId('innerHTML').value=''; 
			getId('checked').value='';

			getId('border').value=''; 
			getId('color').value=''; 
			getId('background').value=''; 

			getId('padding').value=''; 
			getId('margin').value=''; 

			getId('cursor').value=''; 
			getId('resize').value=''; 
			getId('title').value=''; 			
			getId('zIndex').value=''; 

		}
		var x;
		var y;
		
		document.body.addEventListener("mousedown", function () {
			x = event.clientX;
			y = event.clientY;
			if(document.elementsFromPoint(x,y)[0].id =='screen' ){
				hidden_all_menus();
			}
			else{
				if(document.elementsFromPoint(x,y)[1]){
					if( document.elementsFromPoint(x,y)[1].id =='screen' || 
					document.elementsFromPoint(x,y)[1].id.substring(0,3) =='frm'|| 
					document.elementsFromPoint(x,y)[1].id.substring(1,4) =='bar' ||
					document.elementsFromPoint(x,y)[1].id.substring(0,4) =='span'	
					){
						Id=document.elementsFromPoint(x,y)[0].id;
						setinspector();
					}
				}
			}
		});
			
		document.body.addEventListener("mousemove", function () {
			x = event.clientX;
			y = event.clientY;
			if (Id)if (Id== document.elementsFromPoint(x,y)[0].id)setinspector();
			savestorage();
		});

		document.body.addEventListener("keydown", function (e) {
			if (e.code=='Delete'){
				if(document.elementsFromPoint(x,y)[0].id =='screen' || document.elementsFromPoint(x,y)[1].id =='screen' || document.elementsFromPoint(x,y)[2].id =='screen'){
					if (confirm('delete '+Id+'?' )!= false){
						getId(Id).remove();
						resetinspector();
						updateObject();
					}
					getId('_object').value='';
				}
			}
			
		});
		
//--------------------------------------------------------------------------------------------------

		
		function createForm(){
			var l=getId('screen').querySelectorAll('*');
			var frm=1;l.forEach(function(item){if(item.id.substring(0,3)=='frm' && item.id.substring(0,6)!='frmbar')frm++;});
			
			const newFRM = document.createElement('div');
			newFRM.id='frm'+ frm ;
			newFRM.name='frm'+ frm ;
			newFRM.style.position='absolute';
			newFRM.style.left=50+(frm*25);
			newFRM.style.top=25+(frm*25);
			newFRM.style.width=450;
			newFRM.style.height=300;
			newFRM.style.border='2px solid black';
			newFRM.style.background='#81BEF7';
			newFRM.style.resize='both';
			newFRM.style.overflow='hidden';
			
			newFRM.draggable="true";

			newFRM.innerHTML= "\n<input type='button' id='formcaption"+frm+"' style='width:calc(100% - 75px);' value='New Form "+frm+"'>\n<input type='button' id='formclose"+frm+"' style='float:right;color:white;background:red;' value='X'>\n<input type='button' id='formmax"+frm+"' style='float:right;' value='+' onclick=\"var f=getId('frm1');if (f.style.width!='calc(100% - 4px)'){  	M_old_left=f.style.left;M_old_top=f.style.top;M_old_width=f.style.width;M_old_height=f.style.height;  	f.style.left='0';f.style.top='0';f.style.width='calc(100% - 4px)';f.style.height='calc(100% - 4px)';}else{	f.style.left=M_old_left;f.style.top=M_old_top;f.style.width=M_old_width;f.style.height=M_old_height;} \">\n<input type='button' id='formmin"+frm+"' style='float:right;' value='_' onclick=\"var f=getId('frm1');if (f.style.width!='150px'){m_old_left=f.style.left;m_old_top=f.style.top;	m_old_width=f.style.width;m_old_height=f.style.height;f.style.left='0';f.style.top='0';f.style.width='150px';	f.style.height='20px';}else{f.style.left=m_old_left;f.style.top=m_old_top;f.style.width=m_old_width;f.style.height=m_old_height;}\">\n<form id='frmbar"+frm+"' style='width:100%;height:100%;'></form>";

			newFRM.setAttribute('ondragstart',"Fdragstart(this,event);");
			newFRM.setAttribute('ondragover',"Fdragover(this,event);");
			
			getId('screen').appendChild(newFRM);
			Id=getId(newFRM.id).id;
			updateObject();
		}

		function createTBar(){
			var l=getId('screen').querySelectorAll('*');
			var tbar=1;l.forEach(function(item){if(item.id.substring(0,4)=='tbar')tbar++;});
			
			const newTBAR = document.createElement('div');
			newTBAR.id='tbar'+ tbar ;
			newTBAR.name='tbar'+ tbar ;
			newTBAR.style.position='inline';
			newTBAR.style.left=0;
			newTBAR.style.top=0;
			newTBAR.style.width='calc(100% - 2px)';
			newTBAR.style.height=34;
			newTBAR.style.border='1px solid black';
			newTBAR.style.background='#71AEE7';
			newTBAR.style.resize='none';
			
			newTBAR.innerHTML= "";
			newTBAR.setAttribute('ondblclick',"TBaddicon(this); ");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newTBAR);
			}
			else{
				getId('screen').appendChild(newTBAR);
			}
			updateObject();
		}

		function createMBar(){
			var l=getId('screen').querySelectorAll('*');
			var mbar=1;l.forEach(function(item){if(item.id.substring(0,4)=='mbar')mbar++;});
			
			const newMBAR = document.createElement('div');
			newMBAR.id='mbar'+ mbar ;
			newMBAR.name='mbar'+ mbar ;
			newMBAR.style.position='inline';
			newMBAR.style.left=0;
			newMBAR.style.top=0;
			newMBAR.style.width='calc(100% - 2px)';
			newMBAR.style.height=20;
			newMBAR.style.border='1px solid black';
			newMBAR.style.background='#71AEE7';
			newMBAR.style.resize='none';
			
			newMBAR.innerHTML= "";
			newMBAR.setAttribute('ondblclick',"MBaddlabel(this); ");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newMBAR);
			}
			else{
				getId('screen').appendChild(newMBAR);
			}
			updateObject();
		}



		function createLabel(){
			var l=getId('screen').querySelectorAll('*');
			var lbl=1;l.forEach(function(item){if(item.id.substring(0,3)=='lbl')lbl++;});
			
			const newLBL = document.createElement('label');
			newLBL.id='lbl'+ lbl ;
			newLBL.name='lbl'+ lbl ;
			newLBL.style.position='absolute';
			newLBL.style.left=50+(lbl*25);
			newLBL.style.top=25+(lbl*25);
			newLBL.draggable="true";

			newLBL.innerText= "new label";

			newLBL.setAttribute('ondragstart',"dragstart(this,event);");
			newLBL.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newLBL);
			}
			else{
				getId('screen').appendChild(newLBL);
			}
			updateObject();
		}

		function createButton(){
			var l=getId('screen').querySelectorAll('*');
			var btn=1;l.forEach(function(item){if(item.id.substring(0,3)=='btn')btn++;});

			const newBTN = document.createElement('input');
			newBTN.id='btn'+ btn ;
			newBTN.name='btn'+ btn ;
			newBTN.type='button';
			newBTN.style.position='absolute';
			newBTN.style.left=50+(btn*25);
			newBTN.style.top=25+(btn*25);
			newBTN.draggable="true";

			newBTN.value= "new button";

			newBTN.setAttribute('ondragstart',"dragstart(this,event);");
			newBTN.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newBTN);
			}
			else{
				getId('screen').appendChild(newBTN);
			}
			updateObject();
		}

		function createInput(){
			var l=getId('screen').querySelectorAll('*');
			var inp=1;l.forEach(function(item){if(item.id.substring(0,3)=='inp')inp++;});
			
			const newINP = document.createElement('input');
			newINP.id='inp'+inp;
			newINP.name='inp'+inp;
			newINP.type='text';
			newINP.style.position='absolute';
			newINP.style.left=50+(inp*25);
			newINP.style.top=25+(inp*25);
			newINP.draggable="true";

			newINP.setAttribute('value'," ");
			
			newINP.setAttribute('ondragstart',"dragstart(this,event);");
			newINP.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newINP);
			}
			else{
				getId('screen').appendChild(newINP);
			}
			updateObject();
		}
		
		function createTextArea(){
			var l=getId('screen').querySelectorAll('*');
			var textarea=1;l.forEach(function(item){if(item.id.substring(0,8)=='textarea')textarea++;});
			
			const newTEXTAREA = document.createElement('textarea');
			newTEXTAREA.id='textarea'+textarea;
			newTEXTAREA.name='textarea'+textarea;
			newTEXTAREA.style.position='absolute';
			newTEXTAREA.style.left=50+(textarea*25);
			newTEXTAREA.style.top=25+(textarea*25);
			newTEXTAREA.draggable="true";

			newTEXTAREA.setAttribute('value'," ");
			
			newTEXTAREA.setAttribute('ondragstart',"dragstart(this,event);");
			newTEXTAREA.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newTEXTAREA);
			}
			else{
				getId('screen').appendChild(newTEXTAREA);
			}
			updateObject();
		}

		function createImage(){
			var l=getId('screen').querySelectorAll('*');
			var img=1;l.forEach(function(item){if(item.id.substring(0,3)=='img')img++;});

			const newIMG = document.createElement('img');
			newIMG.id='img'+ img ;
			newIMG.name='img'+ img ;
			newIMG.style.position='absolute';
			newIMG.style.left=50+(img*25);
			newIMG.style.top=25+(img*25);
			newIMG.style.width='32px';
			newIMG.draggable="true";

			newIMG.src= "./images/add-image.png";

			newIMG.setAttribute('ondragstart',"dragstart(this,event);");
			newIMG.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newIMG);
			}
			else{
				getId('screen').appendChild(newIMG);
			}
			updateObject();
		}

		function createCanvas(){
			var l=getId('screen').querySelectorAll('*');
			var canvas=1;l.forEach(function(item){if(item.id.substring(0,6)=='canvas')canvas++;});

			const newCANVAS = document.createElement('canvas');
			newCANVAS.id='canvas'+ canvas ;
			newCANVAS.name='canvas'+ canvas ;
			newCANVAS.style.position='absolute';
			newCANVAS.style.left=50+(canvas*25);
			newCANVAS.style.top=25+(canvas*25);
			newCANVAS.style.width='64px';
			newCANVAS.style.height='64px';
			newCANVAS.style.border='1px solid black';						
			newCANVAS.draggable="true";

			newCANVAS.setAttribute('ondragstart',"dragstart(this,event);");
			newCANVAS.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newCANVAS);
			}
			else{
				getId('screen').appendChild(newCANVAS);
			}
			updateObject();
		}

		function createSelect(){
			var l=getId('screen').querySelectorAll('*');
			var select=1;l.forEach(function(item){if(item.id.substring(0,6)=='select')select++;});

			const newSPANSELECT = document.createElement('span');
			newSPANSELECT.id='spanselect'+select;
			newSPANSELECT.name='spanselect'+select;
			newSPANSELECT.style.position='absolute';
			newSPANSELECT.style.left=50+(select*25);
			newSPANSELECT.style.top=25+(select*25);
			newSPANSELECT.style.width='160px';
			newSPANSELECT.style.height='20px';
			newSPANSELECT.style.border='1px solid black';
			
			newSPANSELECT.draggable="true";
			newSPANSELECT.setAttribute('ondragstart',"dragstart(this,event);");
			newSPANSELECT.setAttribute('ondragover',"dragover(this,event);");
			
			newSPANSELECT.innerHTML="<select id='select"+select+"' name='select"+select+"' style='width:150px;' ><option>Select option</option></select>";

			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newSPANSELECT);
			}
			else{
				getId('screen').appendChild(newSPANSELECT);
			}
			updateObject();			
		}

		function createListBox(){
			var l=getId('screen').querySelectorAll('*');
			var listbox=1;l.forEach(function(item){if(item.id.substring(0,7)=='listbox')listbox++;});

			const newLISTBOX = document.createElement('select');
			newLISTBOX.id='listbox'+listbox;
			newLISTBOX.name='listbox'+listbox;
			newLISTBOX.size=4;
			newLISTBOX.style.position='absolute';
			newLISTBOX.style.left=50+(listbox*25);
			newLISTBOX.style.top=25+(listbox*25);
			newLISTBOX.style.width='150px';
			newLISTBOX.draggable="true";

			newLISTBOX.setAttribute('ondragstart',"dragstart(this,event);");
			newLISTBOX.setAttribute('ondragover',"dragover(this,event);");
			
			newLISTBOX.innerHTML= "<option>listBox</option>";
				
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newLISTBOX);
			}
			else{
				getId('screen').appendChild(newLISTBOX);
			}
			updateObject();
		}

		function createCheckBox(){
			var l=getId('screen').querySelectorAll('*');
			var chk=1;l.forEach(function(item){if(item.id.substring(0,3)=='chk')chk++;});

			const newCHK = document.createElement('input');
			newCHK.id='chk'+chk;
			newCHK.name='chk'+chk;
			newCHK.type='checkbox';
			newCHK.style.position='absolute';
			newCHK.style.left=50+(chk*25);
			newCHK.style.top=25+(chk*25);
			newCHK.draggable="true";

			newCHK.checked= "";
			
			newCHK.setAttribute('ondragstart',"dragstart(this,event);");
			newCHK.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newCHK);
			}
			else{
				getId('screen').appendChild(newCHK);
			}
			updateObject();
		}

		function createRadio(){
			var l=getId('screen').querySelectorAll('*');
			var rdo=1;l.forEach(function(item){if(item.id.substring(0,3)=='rdo')rdo++;});
			
			const newRDO = document.createElement('input');
			newRDO.id='rdo'+rdo;
			newRDO.name='rdo'+rdo;
			newRDO.type='radio';
			newRDO.style.position='absolute';
			newRDO.style.left=50+(rdo*25);
			newRDO.style.top=25+(rdo*25);
			newRDO.draggable="true";

			newRDO.value= "";
			
			newRDO.setAttribute('ondragstart',"dragstart(this,event);");
			newRDO.setAttribute('ondragover',"dragover(this,event);");
			
			if (Id.substring(0,3)=='frm'){
				getId(Id).appendChild(newRDO);
			}
			else{
				getId('screen').appendChild(newRDO);
			}
			updateObject();
		}
	</script>
</html>
